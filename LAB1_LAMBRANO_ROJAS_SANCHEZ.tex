\documentclass[journal]{IEEEtran}
\usepackage[spanish]{babel}
\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\graphicspath{ {ImagenesInforme/} }
\usepackage{enumerate}
\usepackage{amsmath}
\usepackage{mathtools}
\usepackage{float}
\usepackage{amssymb}
\usepackage{listings}
\renewcommand{\IEEEkeywordsname}{Palabras clave}


\begin{document}
\title{An\'alisis de la Respuesta Transitoria y Estacionaria}
%\author{Kevin Castiblanco, Rafael D\'iaz, 
%Jorge Lambra\~no, Julian Rojas
%(kcastiblanco, jelambrano ,drojasj \@uninorte.edu.co )}

\author{
  \IEEEauthorblockN{ Kevin Castiblanco$^1$, Rafael D\'iaz$^2$, 
  Jorge Lambra\~no$^3$ y Julian Rojas$^4$\vspace{0.2cm}}\\
  %\IEEEauthorblockA{\emph{Departamento de Ingenier\'ias El\'ectrica y 
  %Electr\'onica, Universidad del Norte}\\\emph{Km 5 Vía Pto. Colombia, 
  % Atl\'antico, Colombia}}
  \IEEEauthorblockA{\texttt{\small{$^1$kcastiblanco,
   $^2$drdiaz, $^3$jelambrano, $^4$drojasj @uninorte.edu.co
   }}}
}


\markboth{Laboratorio 2: An\'alisis de la Respuesta Transitoria y Estacionaria}%
{Shell \MakeLowercase{\textit{et al.}}: Bare Demo of IEEEtran.cls 
for Journals}
	
\maketitle
	
\begin{abstract}
En el presente documento se describe detalladamente el
procedimiento utilizado para modelar matem\'aticamente el
comportamiento de diferentes sistemas de control.
Asimismo, tambi\'en se expone el an\'alisis de los resultados
obtenidos al realizar el modelamiento de esos sistemas.
Finalmente, se describe un avance del 
dise\~no y del funcionamiento del proyecto integrador.   
\end{abstract}

%-----------------------------------------------------------

\begin{IEEEkeywords}  
Error estacionario, Funci\'on de transferencia, 
Ganancia, Sistema de control  
\end{IEEEkeywords}


%-----------------------------------------------------------
\IEEEpeerreviewmaketitle
%--------------------------------------------------------------------------

%\section{Objetivos}

%\subsection{Objetivo General}
%\item Lograr analizar y  dise\~nar sistemas de control 

%\subsection{Objetivos Espec\'ificos}

%\section{Conclusiones}

\section{PROCEDIMIENTO\\}

\subsection{Dise\~no y an\'alisis de un sistema de primer
orden: Oscilador de relajaci\'on, Schmitt Trigger}

Se dise\~no un oscilador de relajaci\'on cuya respuesta al
entrar un impulso unitario es: 

\begin{align}
	\label{res_time} v_{o}(t) & = 20 e^{- 10 t}  
\end{align}

\subsubsection*{Funci\'on de transferencia del oscilador}
Se asumi\'o la idealidad del amplificador se proceden con 
los c\'alculos. Es decir, la ganancia del amplificador es 
muy grande, y como existe una retroalimentación negrativa,
la tensión en la entrada no inversora es aproximadamente el
valor de la entrada inversora. El circuito del cual se obtuvo
la funci\'on de transferencia se observa en la Figura
\ref{oscilador}. 

\begin{figure}[h]
%\centering
\includegraphics[clip,width=\columnwidth]
{oscilador_relajacion.png}
\caption{Amplificador operacional Schmitt Trigger.}
\label{oscilador}
\end{figure}

Se tiene que el voltaje de la entrada no inversora del amplificador $V_1$, es: 
\begin{align*}
	V_1 & = \frac{\frac{1}{s C}}{ R_1 + \frac{1}{s C}}
	 V_{in} 
\end{align*}

Por otro lado, aplicando la ley de corrientes en la entrada no inversora del amplificador, se tiene que: 

\begin{align*}
	\frac{V_1}{R_3} & = \frac{V_o -V_1}{R_4} \Rightarrow \\ 
	\frac{V_o}{V_i} & = \left( 1 + \frac{R_4}{R_3} \right)
	 V_{1} \\
	\frac{V_o}{V_i} & = \left
	( 1 + \frac{R_4}{R_3} \right)\frac{1}{ s R_1 C + 1} \\
	\Aboxed {\frac{V_o}{V_i} & = \left
	( 1 + \frac{R_4}{R_3} \right)
	\frac{\frac{1}{R_1 C}}{ s  + \frac{1}{R_1 C}}}
\end{align*}

Si se lleva la expresi\'on al dominio del tiempo, se obtiene
la salida del sistema a un impulso unitario.
  
\begin{align*}
	v_o(t) & = \frac{1}{R_1 C} 
	\left ( 1 + \frac{R_4}{R_3} \right) 
	 e^{- \frac{1}{R_1 C} t}  	
\end{align*}

Si se compara esta expresi\'on con la respuesta que se 
espera que el sistema tenga, es decir, la ecuación \ref{res_time}, se tiene que: 

\begin{align}
	\label{equAmpl} \left( 1 + \frac{R_4}{R_3} \right)
	\frac{1}{R_1 C} & = 20 \\ 
	\label{equTao} 	\frac{1}{R_1 C} &=  10 
\end{align}

\'Estas son las condiciones que el sistema tiene que cumplir 
para que la respuesta al impulso sea igual a la expresi\'on 
\ref{res_time}. No se calcularon posibles valores de los 
componentes porque se tiene toda informaci\'on que se 
necesita a trav\'es de la respuesta del sistema. 
Por ejemplo, si se
quiere llevar el sistema al domino de Laplace, se tiene 
que la Transformada de Laplace de este sistema es: 
\begin{align}
	\label{tf_primerOrden} \Aboxed {\frac{C(s)}{R(s)} 
	& = \frac{20}{s + 10}}
\end{align}

\subsubsection*{Simulaci\'on en Matlab} Se utiliz\'o Matlab 
para generar la respuesta del sistema a un impulso, esca\'on,
rampa y par\'abola. Para generar la respuesta al impulso se 
utiliz\'o la funci\'on $impulse($var$)$ donde var es la 
funci\'on de transferencia. El resultado de ejecutar este 
comando se observa en la Figura \ref{res_impulso}. 
La respuesta al impulso por su parte su tiempo de
asentamiento es menor que el
anterior, este no logra seguir la entrada.\\

\begin{figure}[h]
%\centering
\includegraphics[clip,width=\columnwidth]
{impulse_response.png}
\caption{Respuesta del Amplificador 
operacional Schmitt Trigger a un impulso.}
\label{res_impulso}
\end{figure}

Para obtener la respuesta a un esca\'on se utiliz\'o la
funci\'on $step($var$)$. Como se observa en este caso la
respuesta al escal\'on sobre pasa el setpoint, su
tiempo de asentamiento es relativamente corto, y su tiempo 
de subida es rápido, la salida logra seguir la entrada.
El valor final de la salida es diferente al de la entrada, 
puesto que el sistema agrega a la respuesta un valor 
de DC.\\

\begin{figure}[h]
%\centering
\includegraphics[clip,width=\columnwidth]
{step_response.png}
\caption{Respuesta del Amplificador
operacional Schmitt Trigger a un escal\'on.}
\label{res_escalon}
\end{figure}

Para las respuestas a una rampa y a una par\'abola se 
observa que no hay estabilidad en ningun momento, ya que 
la se\~nal de salida siempre contin\'ua alej\'andose del
setpoint de manera gradual.\\

\begin{figure}[H]
%\centering
\includegraphics[clip,width=\columnwidth]
{ramp_response.png}
\caption{Respuesta del Amplificador Schmitt Trigger a una
rampa.}
\label{res_rampa}
%\end{figure}
%\begin{figure}[h]
%\centering
\includegraphics[clip,width=\columnwidth]
{parabole_response.png}
\caption{Respuesta del Amplificador Schmitt Trigger a una
rampa.}
\label{res_parabola}
\end{figure}

\newpage

\subsection{Dise\~no y ana\'alisis de un sistema de segundo
orden: Control de az\'ucar en la sangre \\} 

Las condiciones en el espacio son muy diferentes que las que
se encuentran en la Tierra. La ausencia de gravedad trae 
consigo muchas consecuencias para los astronautas, como la 
p\'erdida de peso y de masa muscular, se atrofia el sentido 
del equilibrio y tambi\'en el control de az\'ucar en la 
sangre. Esto \'ultimo obliga a los astronautas a depender
de inyecciones de insulina para el control de su nivel de 
glucosa.\\ 

Para controlar el nivel de az\'ucar en la sangre se 
implement\'o un sistema de control autom\'atico conformado
por
una bomba y un sensor que mide la cantidad de az\'ucar en la
sangre. La Figura \ref{bloqDiag} muestra que ese 
sistema de control
est\'a compuesto de una bomba, inyecciones y un sensor. Cabe 
mensionar que $R(s)$ corresponde a la entrada del sistema, 
es decir, el nivel que se desea obtener, mientras que $C(s)$
corresponde al nivel real. Por obvias razones,  se busca que
el nivel real sea lo más cercano posible al nivel deseado y
que el comportamiento de la salida sea bastante estable. \\

\begin{figure}[h]
%\centering
\includegraphics[clip,width=\columnwidth]
{controlNivelAzucar.jpg}
\caption{Control de nivel de 
az\'ucar en la sangre.}
\label{bloqDiag}
\end{figure}

\subsubsection*{Obtenci\'on de la funci\'on de transferencia}
Para comprender mejor la relaci\'on que exite en entre la
salida con
respecto a la entrada se obtuvo la funci\'on de 
transferencia $Y(s)/R(s)$. Esto se hace multiplicando los
bloques que se encuentran en la transferencia directa entre
la entrada y la salida, y luego se dividen entre 1 m\'as el 
lazo de retroalimentaci\'on, se suma en lugar de restar 
debido a que la retroalimentaci\'on que existe es 
negativa.

\begin{displaymath}
\frac{Y(s)}{R(s)} = \frac{K_b \frac{cs + 2}{s(s + 1)}}{1 + 
K_s K_b \frac{cs + 2}{s(s + 1)}}
\end{displaymath}

Reescribiendo la expresi\'on se tiene: 
\begin{displaymath}
\frac{Y(s)}{R(s)} = \frac{\frac{K_b(cs + 2)}{s(s+1)}}
{\frac{s(s + 1 ) + K_b K_s (cs + 2)}{s(s+1)}}
\end{displaymath}

Finalmente, expandiendo, la funci\'on de transferencia es: 
\begin{equation}
\boxed{
	\frac{Y(s)}{R(s)} = \frac{c K_b s + 2 K_b}
	{s^2 + (K_b K_s c + 1 )s + 2 K_b K_s }
}
\end{equation}

Se puede observar que el sistema control es de segundo orden 
debido al grado del denominador. Un sistema de segundo orden
es mucho m\'as complejo que un sistema de primer orden. Por 
esta raz\'on para describirlo se utilizan mucho m\'as 
par\'ametros. \\

%---------

\subsubsection*{C\'alculo de algunos par\'ametros de la 
respuesta trasitoria}
Para facilitar los c\'alculos se asumi\'o que el valor de la
constrante $c$ es igual a cero. De esta manera, para 
$c = 0$, la ecuaci\'on queda reescrita de la sigueinte 
forma: 
\begin{equation}
	\frac{Y(s)}{R(s)} = \frac{2 K_b}
	{s^2 + s + 2 K_b K_s }
	\label{equ_transf}
\end{equation}

Debido a que esta expresi\'on es m\'as simple, se pudo 
calcular con bastante facilidad la \textit{frecuencia 
natural del sistema}, $\omega_n$, y la \textit{relaci\'on 
de amortiguamiento}, $\zeta$. \\

Asimismo, se asumi\'o una sobrelongaci\'on m\'axima, 
$M_p$, de
7\%. Con este valor de sobrelongaci\'on se pud\'o encontrar 
la relaci\'on de amortiguamiento a trav\'es de la f\'ormula.
\begin{displaymath}
	M_p = e^{-\pi \zeta / \sqrt{1 - \zeta^2}}  
\end{displaymath}

Despejando $\zeta$:
\begin{displaymath}
	\zeta = \frac{\ln{M_p}}{\sqrt{\ln^2{M_p} + \pi^2}}
\end{displaymath}

Reemplazando $M_p = 0.07$: 
\begin{align*}
	\zeta & = \frac{\ln{(0.07)}}
	{\sqrt{\ln^2{(0.07)} + \pi^2}} \\
	\Aboxed { \zeta & = 0.646}
\end{align*}

La ecuaci\'on \ref{equ_transf} se compar\'o con la ecuaci\'on 
caracter\'istica de los sistemas de segundo orden. 

\begin{equation}
\frac{Y(s)}{R(s)} = \frac{\omega^2_n}
{s^2 + 2 \omega_n \zeta s + \omega^2_n}
\end{equation}

Por tanto se pudo deducir que:  
\begin{align}
	\label{equ5} \omega^2_n & = 2 K_b \\
	\label{equ6} \omega^2_n & = 2 K_b K_s \\
	\label{equ7} 2 \omega_n \zeta & = 1 
\end{align}

Para que se cumplan \ref{equ5} y \ref{equ6} el valor de $K_s$ 
debe ser igual a 1. 
\begin{align*}
	\Aboxed{ K_s = 1} 	
\end{align*}

Para calcular el resto de los par\'ametros se necesita el 
valor de la frecuencia natural del sistema. \'Esta puede ser
calculada por medio de la expresi\'on \ref{equ7}. 
\begin{align*}
	2 \omega_n \zeta & = 1 \\
	\omega_n & = \frac{1}{2 \zeta} \\
	\omega_n & = \frac{1}{2 (0.646)} \\
	\Aboxed{ \omega_n & = 0.774 rad/s}
\end{align*}
Con los valores de $\omega_n $ se encontr\'o el valor de 
$K_b$: 
\begin{align*}
	\omega^2_n & = 2 K_b \\ 
	K_b & = \frac{\omega^2_n}{2} \\
	K_b & = \frac{(0.774)^2}{2} \\
	\Aboxed{ K_b & = 0.3}
\end{align*}

El tiempo de crecimiento $t_r$, se obtiene con la 
f\'ormula:
\begin{align*}
	t_r & = \frac{1}{\omega_n \sqrt{1 - \zeta^2}}\left(
	\pi - \tan \frac{\sqrt{1 - \zeta^2 }}{\zeta}\right)\\
	t_r & = \frac{1}{(0.774)\sqrt{1 - (0.646)^2}}\left(
	\pi - \tan \frac{\sqrt{1 - (0.646)^2 }}{0.646}\right)\\
	\Aboxed{ t_r & = 3.85 s } 
\end{align*}

El tiempo donde ocurre la m\'axima elongaci\'on, $t_p$, 
se puede calcular por medio de la f\'ormula. 
\begin{align*}
	t_p & = \frac{\pi}{\zeta \omega_n}  \\ 
	t_p & = \frac{\pi}{(0.646)(0.774)} \\
	\Aboxed{ t_p & = 5.318 s}  
\end{align*}

Para hallar el tiempo de establecimiento, $t_s$, bas\'andose
en el critero del 2 \%, se aplica la siguiente f\'ormula: 
\begin{align*}
	t_s & = \frac{4}{\zeta \omega_n} \\ 
	t_s & = \frac{4}{(0.646)(0.774)} \\
	\Aboxed{ t_s & = 8 s} \\
\end{align*}

\subsubsection*{Obtenci\'on de los errores en estado 
estacionario}
El error en estado estacionario es la diferencia entre la 
entrada y la salida del sistema para un tiempo muy largo. 
El sistema de control de azucar, es un sistema Tipo 1,
puesto que contiene un \'unico polo en $s = 0$. \\
%
%Los sistemas Tipo 1, son capaces de seguir una entrada 
%escal\'on con un error de 0, pueden seguir las entradas 
%de tipo rampa con un error, pero no pueden seguir las
%entradas de tipo par\'abola. Por esta raz\'on, para el 
%sistema de control de az\'ucar en la sangre se espera que 
%el error en estado estacionario para una entrada escal\'on 
%sea nulo, sea un valor constante para una entrada tipo rampa
%y que sea indetermindado para una entrada tipo par\'abola. 

%para el sistema de control de nivel de az\'ucar en la sangre
%el error en estado estacionario ser\'a constante para una 
%entrada escal\'on, mientras que para una entrada rampa o
%par\'abola el valor ser\'a indeterminado. 

\begin{enumerate}
\item[•] \textit{Entrada Escal\'on:} El error en estado 
estacionario, $e_{ss}$, se puede encontrar con la 
expresi\'on: 
\begin{align*}
	e_{ss} & = \lim_{s \to 0}{\frac{s R(s)}{1 + G(s)H(s)}} \\
	e_{ss} & = \lim_{s \to 0}{\frac{s \frac{1}{s}}
	{1 + K_s K_b \frac{cs + 2}{s(s + 1 )} }} \\
	e_{ss} & = \lim_{s \to 0}{\frac{s(s + 1)}
	{s(s + 1) + K_s K_v (sc + 2)}}\\
	\Aboxed {	e_{ss}  &  = 0 }
\end{align*} 
Como el error estacionario es igual a cero, entoces el 
sistema de control es capaz de seguir una entrada de tipo 
escal\'on. \\

\item[•] \textit{Entrada Rampa:} En este caso,
el valor del error estacionario se puede encontrar usando 
la siguiente 
f\'ormula:  

\begin{align*}
	e_{ss} & = \lim_{s \to 0}{\frac{s R(s)}{1 + G(s)H(s)}} \\
	e_{ss} & = \lim_{s \to 0}{\frac{s \frac{1}{s^2}}
	{1 + K_s K_b \frac{cs + 2}{s(s + 1 )} }} \\
	e_{ss} & = \lim_{s \to 0}{\frac{s + 1}
	{s(s + 1) + K_s K_v (sc + 2)}}\\
	e_{ss} & = \lim_{s \to 0}{\frac{ s + 1}
	{s^2 + (1 + K_s K_b c )s + 2 K_b K_s}} \\
	e_{ss}  &  = \frac{1}{2 K_b K_s } 
\end{align*} 
Para los valores de que se obtuvieron anteriormente: 
\begin{align*}
	 e_{ss} & = \frac{1}{2(0.3)(1)} \\
	 \Aboxed{ e_{ss} & = 1.667}
\end{align*}
Este error significa que la salida del sistema sige a la 
se\~nal de entrada, pero entre ellas siempre va existir una
diferencia. \\

\item[•] \textit{Entrada Par\'abola:} Para una entrada de 
tipo par\'abola el error en estado estacionario se obtiene 
por medio de la siguiente f\'ormula: 

\begin{align*}
	e_{ss} & = \lim_{s \to 0}{\frac{s R(s)}
	{1 + G(s)H(s)}} \\
	e_{ss} & = \lim_{s \to 0}{\frac{s \frac{1}{s^3}}
	{1 + K_s K_b \frac{cs + 2}{s(s + 1 )} }} \\
	... \\
	e_{ss} & = \lim_{s \to 0}{\frac{ s(s + 1)}
	{s^2 (s^2 + (1 + K_s K_b c )s + 2 K_b K_s)}} \\
	\Aboxed{ e_{ss} & = \infty}	
\end{align*}
El sistema no es capaz de seguir una entrada con 
aceleraci\'on, para este tipo de se\~nales el error se hace
muy grande. \\
\end{enumerate}

\subsubsection*{Simulaci\'on en Matlab}

Se simul\'o el sistema de control de nivel de nivel de 
az\'ucar en la sangre utilizando Matlab. Se tomaron las 
mismas condiciones 
que se utilizaron para encontrar los par\'ametros, para 
poder compara los resultados de la simulaci\'on con los que
se obtuvieron anteriormente. Los resultados que se obtuvieron
se muestran en la Figura 
%\ref{Fig_console}. 
\ref{Step_response}. \\

%\begin{figure}[h] 
%\fbox{\includegraphics[clip,width=\columnwidth]
%{matlab_console.png}} 
%\caption{Resultados en la consola de Matlab} 
%\label{Fig_console}
%\end{figure}

\begin{figure}[h]
%\centering
\includegraphics[clip,width=\columnwidth]{graficomat.png}
\caption{Respuesta al escal\'on del sistema de control.}
\label{Step_response}
\end{figure}

Se puede observar que los valores que se obtuvieron mediante
la simulaci\'on son bastante similares a los resultados. 
Adem\'as de calular los par\'ametros m\'as importantes 
tambi\'en se grafic\'o la respuesta al escal\'on del sistema. 
La forma de esta respuesta se puede observar en la Figura
\ref{Step_response}. N\'otese que, tal como lo demuestra el 
c\'alculo del error en estado estacionario, el sistema es 
capaz de seguir una entrada de tipo escal\'on sin errores. \\

En la Figura \ref{Step_response} tambi\'en se pueden 
observar el valor de algunos par\'ametros, los cuales 
caracterizan al sistema. Para una mejor observaci\'on de los 
estos valores, las cajas de texto de la Figura
\ref{Step_response} se encuentran ampliadas en la Figura
\ref{Parametros_NAS}. \\

\begin{figure}[h]
\centering
\includegraphics[clip,width=0.6\columnwidth]{time_rate.png}
%\caption{a}
\includegraphics[clip,width=0.6\columnwidth]{time_p.png}
%\caption{b}
\includegraphics[clip,width=0.6\columnwidth]{time_stb.png}
%\caption{c}
\caption{Par\'ametros del sistema.}
\label{Parametros_NAS}
\end{figure}

La primera caja de texto corresponde al tiempo de 
crecimiento, es decir, a la primera vez que la salida 
del sistema alcanza el valor de 1.
Se puede observar que el tiempo de
crecimiento $t_r$ que se obtuvo a trav\'es de la f\'ormula
es el mismo que el arrojado por 
Matlab . \\

En la siguiente caja se 
observa los valores del tiempo pico $t_p$ y de la 
sobrelongaci\'on m\'axima, las cuales son 5.34 s y 
7\% (amplitud de 1.07) respectivamente. El tiempo pico es 
muy similar al que se obtuvo con la f\'ormula (5.32 s) y 
de la sobrelongaci\'on se puede decir que tiene el mismo 
valor. \\

Finalmente, en la \'ultima caja, aparece el 
valor del tiempo de establecimiento $t_s$ el cual es de
7.76 s. Comparando este valor con el que se obtuvo utilizando
el criterio del 2\%, se puede observar que son bastante 
similares.
%\begin{figure}[h]
%\centering
%\includegraphics[clip,width=0.5\columnwidth]{time_p.png}
%\caption{Tiempo pico del sistema de control}
%\end{figure}
%
%\begin{figure}[h]
%\centering
%\includegraphics[clip,width=0.5\columnwidth]{time_stb.png}
%\caption{Tiempo de establecimiento del sistema de control.}
%\end{figure}

\subsubsection*{Agregando un cero a la funci\'on}
Se decidi\'o agregar a la funci\'on de transferencia un 
cero de la forma $(As + B)$ donde $A$ y $B$ son constantes. 
Des esta manera, la nueva funci\'on  de trasnferencia que 
caracteriza el sistema est\'a determinada es de la forma: 

\begin{equation}
\boxed{
	\frac{Y(s)}{R(s)} = \frac{K_b(A s + B)(C s + 2)}
	{s^2 + (K_b K_s c + 1 )s + 2 K_b K_s } 
}
\end{equation}

Debido a la presencia del cero en el numerador la salida 
ser\'a diferente a la entrada. En las Figuras
\ref{Step_response_A} y \ref{Step_response_B} se puede 
observar el efecto quen estos par\'ametros en la funci\'on 
de transferencia. Para la Figura \ref{Step_response_A} 
donde se varía el par\'ametro $A$, a medida que aumenta el 
valor $A$ aumenta la sobrelongaci\'on del sistema y el tiempo
de establecimiento $t_s$. Adem\'as
disminuye el tiempo pico $t_p$ y el tiempo de creciemiento 
$t_r$. Asimismo, como todas las gr\'aficas se intersectan en
los mismos puntos se pudo deducir que no hubo variaci\'on de
la frecuencia amortiguada $\omega_d$. \\

\begin{figure}[h]
\centering
\includegraphics[clip,width=0.9\columnwidth]
{diferentsValuesA.png}
\caption{Respuesta al escal\'on agregando un cero y 
variando a.}
\label{Step_response_A}
\end{figure}

Por otra parte, al modificar el par\'ametro $B$ se modifica
el valor
final de la salida del sistema, a medida que $B$ se 
amplifica el valor final de la respuesta al escal\'on, 
es decir, el valor $B$ actúa agregando un nivel DC. al 
sistema. 
Por lo tanto, el error en estado 
estacionario no es cero, en lugar de ello, depende de $B$, 
sin embargo, para un valor de $B = 1$ el error en estado estacionario se hace cero.
Adem\'as de lo anterior, hay un incremento en 
el tiempo pico $t_p$ de la funci\'on. Todo esto se puede 
apreciar en la Figura \ref{Step_response_B}. 

\begin{figure}[h]
\centering
\includegraphics[clip,width=0.9\columnwidth]
{diferentsValuesB.png}
\caption{Respuesta al escal\'on agregando un cero y 
variando b}
\label{Step_response_B}
\end{figure}

\subsection*{Aplicaci\'on en Matlab usando la respuesta 
transitoria}

Para esta parte de la actividad se construy\'o una
interfaz de usuario en la que se puede cargar un 
archivo .mat. Y calcular el sistema que es capaz de 
producir ese tipo de respuesta. Los m\'etodos que se 
utilizan son num\'ericos, por tanto, la respuesta obtenida
no es la funci\'on original, sin embargo la funci\'on 
resultante se aproxima bastante bien al modelo. Adem\'as 
encontrar la func\'on de trasnferencia del sistema, la 
interfaz de usuario permite identificar algunos 
par\'ametros que describen al sistema. \\

\subsubsection*{Pasos para ejecutar el Algoritmo}
\begin{enumerate}
\item Abrir el codigo.
\item En la ventana de comandos escribir GUIDE y 
presionar enter.
\item Buscar el archivo .fig en la carpeta. 
\item Ejecutar el GUIDE.
\item Presionar buscar y escoger entre sub o sobre amortiguada que es el .mat.
\item Seleccionar m\'etodo.
\item Esperar a que la interfaz.
\end{enumerate}

De la Figura \ref{fig1} hasta la Figura \ref{fig6} se puede 
observar algunos ejemplos del funcionamiento del sistema. 

\begin{figure}[H]
\label{fig1}
\includegraphics[clip,width=\columnwidth]
{ho_sobreamortiguada.png}
\caption{Método Ho para una respuesta sobreamortiguada.}
\end{figure}

\begin{figure}[H]
\label{fig2}
\includegraphics[clip,width=\columnwidth]
{hosuba.png}
\caption{Método Ho para una respuesta subamortiguada.}
\end{figure}

%----

\begin{figure}[H]
\label{fig3}
\includegraphics[clip,width=\columnwidth]
{stark_sobreamortiguado.png}
\caption{Método Stark para una respuesta sobreamortiguada.}
\end{figure}

\begin{figure}[H]
\label{fig4}
\includegraphics[clip,width=\columnwidth]
{stark_subamortiguada.png}
\caption{Método Stark para una respuesta subamortiguada.}
\end{figure}

\begin{figure}[H]
\label{fig5}
\includegraphics[clip,width=\columnwidth]
{ziegler_sobreamortiguada.png}
\caption{Método Ziegler para una respuesta sobreamortiguada.}
\end{figure}

\begin{figure}[H]
\label{fig6}
\includegraphics[clip,width=\columnwidth]
{ziegler_subamortiguada.png}
\caption{Método Ziegler para una respuesta subamortiguada.}
\end{figure}


\newpage
\subsection*{Proyecto integrador}
El objetivo fue hacer una GUI amigable con el usuario, 
fácil de utilizar y que consumiera pocos recursos. La Figura 
\ref{GUI} se puede observar la interfaz de usuario. En la parte de arriba se puede ver el diagrama de bloques donde se ingresan los datos de la planta, actuador y sensor. La función de transferencia se muestra debajo del botón para calcularlo. Del otro lado se encuentran los botones que calculan cada parámetro de la matriz de variable de estado.\\

Para esta etapa del proyecto integrador se implement\'o un 
controlador proporcional al sistema que controla la 
profundidad del submarino. \\

La constante $K$ que caracteriza al controlador proporcional 
se ingresa manualmente en le panel principal. EL panel 
principal se puede observar en la Figura \ref{panel}. Esto 
le permite al usuario modificar el valor de $K$ y observar 
el efecto que esta modificaci\'on causa en el sistema. \\

\begin{figure}[h]
\label{panel}
\includegraphics[clip,width=\columnwidth]
{panel_PI.png}
\caption{Panel principal de la Intefaz de Usuario.}
\end{figure}

Tambi\'en la interfaz de usuario le permite al usuario 
decidir la entrada del sistema. Las diferentes entradas 
que se pueden ingresar son impulso, escal\'on y rampa. 
El bot\'on \textbf{Graficar varias respuestas} permite 
la visualizaci\'on de m\'as de una respuesta al mismo 
tiempo. Se puede observar las respuestas para diferentes
valores de $K$.
Y con el bo\'on \textbf{guardar} es posible guardar
las gr\'aficas en el equipo.\\

\begin{figure}[h]
\label{panel}
\includegraphics[clip,width=\columnwidth]
{selecion_entrada.png}
\caption{Men\'u de selecci\'on de entrada.}
\end{figure}

La interfaz gr\'afica del proyecto inegrador, vista 
completamente se puede observar en la Figura \ref{GUI}. \\

\begin{figure}[h]
\label{GUI}
\includegraphics[clip,width=\columnwidth]
{Interfaz_grafica.png} 
\caption{Intefaz Usuario Proyecto Integrador.}
\end{figure}

\subsubsection*{Funcionamiento}
Para iniciar el programa primero se debe abrir el archivo 
de MATLAB untitled2.m. Una vez se corra el código se 
abrirá el GUI y Simulink. Se procede corriendo el 
archivo guisub.slx que se encuentra en la ventana 
de Simulink. La interfaz gráfica se encontrará 
disponible para su ejecución.\\

La interfaz gr\'afica es capaz de imprimir los valores de 
las matrices de estado: A, B, C, D. 
Para que estos datos 
puedan ser imprimidos en pantalla, deben ser convertidos 
primero a string, esto se hace a través del comando 
\textit{num2str}. \\

Otro comando que se utiliza en la interfaz gráfica es el 
comando \textit{linmod}, el cual es capaz de obtener la 
funci\'on de transferencia del sistema a partir de los 
par\'ametros que se ingresen, uno de ellos es una 
variable de tipo \textit{sys}. \\

 
\end{document}
